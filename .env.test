# Test Environment Configuration
# Sanzo Color Advisor - Automated testing environment

# ====================================
# Server Configuration
# ====================================
NODE_ENV=test
PORT=3000
HOST=0.0.0.0

# ====================================
# CORS Configuration
# ====================================
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001,http://127.0.0.1:3000

# ====================================
# Rate Limiting (Disabled for Testing)
# ====================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=10000
ANALYSIS_RATE_LIMIT_WINDOW_MS=60000
ANALYSIS_RATE_LIMIT_MAX_REQUESTS=1000

# ====================================
# Cache Configuration (Short TTL)
# ====================================
CACHE_EXPIRY_MS=60000
GITHUB_CACHE_EXPIRY_MS=60000
WEB_SCRAPER_CACHE_EXPIRY_MS=60000

# ====================================
# Web Scraper Configuration
# ====================================
WEB_SCRAPER_REQUEST_DELAY=100
WEB_SCRAPER_MAX_RETRIES=1
WEB_SCRAPER_TIMEOUT=5000

# ====================================
# Logging Configuration
# ====================================
LOG_LEVEL=error
LOG_FORMAT=dev

# ====================================
# Security Configuration
# ====================================
TRUST_PROXY=false

# ====================================
# Health Check Configuration
# ====================================
HEALTH_CHECK_INTERVAL=10000

# ====================================
# Testing Features
# ====================================
ENABLE_TEST_ROUTES=true
MOCK_EXTERNAL_SERVICES=true
FAST_STARTUP=true

# ====================================
# Performance Configuration
# ====================================
REQUEST_TIMEOUT=5000
DATABASE_TIMEOUT=3000

# ====================================
# Feature Flags (Minimal for Testing)
# ====================================
FEATURE_GITHUB_SYNC=false
FEATURE_WEB_SCRAPING=false
FEATURE_ANALYTICS=false
FEATURE_RATE_LIMITING=false

# ====================================
# Database Configuration (In-Memory)
# ====================================
# DATABASE_URL=sqlite::memory:
# DATABASE_POOL_MIN=1
# DATABASE_POOL_MAX=5

# ====================================
# Monitoring Configuration (Disabled)
# ====================================
ENABLE_METRICS=false
METRICS_PORT=9091
METRICS_PATH=/metrics

# ====================================
# Test Data Configuration
# ====================================
USE_TEST_DATA=true
RESET_DATA_ON_START=true
SEED_TEST_DATA=true

# ====================================
# Error Handling
# ====================================
ERROR_REPORTING_ENABLED=false
ENABLE_ERROR_STACK_TRACES=true

# ====================================
# CI/CD Configuration
# ====================================
CI=true
JEST_WORKER_ID=${JEST_WORKER_ID}
TEST_TIMEOUT=30000

# ====================================
# Mock Configuration
# ====================================
MOCK_GITHUB_API=true
MOCK_WEB_SCRAPER=true
MOCK_EXTERNAL_REQUESTS=true

# ====================================
# Coverage Configuration
# ====================================
COVERAGE_ENABLED=true
COVERAGE_THRESHOLD=80

# ====================================
# Parallel Testing
# ====================================
MAX_WORKERS=2
TEST_CONCURRENCY=1